type: maven
integrationBranches:
  - master
  - mp
pipelineAdministrators:
  - 854495
  - 243211
env:
  variables:
    # Default SonarQube project name w/o overwriting them below: managed-pipeline.receipts-ms-project
    # SONARQUBE_PROJECT_KEY: tr.receipts-ms
    # SONARQUBE_PROJECT_NAME: tr.receipts-ms

notifications:
  onlyOnIntegration: true

provider:
  azure:
    servicePrincipalCredJenkins: 'ct-np-receipts-as-server-sp'
    subscription: 'aa-ct-nonprod-spoke' ##Optional

deployApp: 'appservice' ## you can use appservice, functionapp or storage
#publishPath: 'target'

CI:
  coverity:
    APP_NAME: receipts-ms
    CONFIG: ['java']
  xray:
    reporting: true

CD:
  #cherwell:
    #archerAppName: 'Receipts'
    #cherwellTeamName: 'Fly - Ancillaries Receipts'

  deployments:
    dev:
      servicePrincipalCredJenkins: ct-np-receipts-as-server-sp
      subscription: aa-ct-nonprod-spoke
      app:
      ## name must be appservice name, functionapp name or staorage account name
      - name: 'receipts-ms'
        resourceGroup: 'ct-n-zeaus-receipts-rg'
        region: 'East US'
      sourceBranches:
      - master
      - mp

    #stage:
      #app:
        #- name: receipts-ms-dev
          #region       : east
          #resourceGroup: ct-n-zeaus-receipts-rg 
        #- name: receipts-ms-dev
          #region       : south
          #resourceGroup: ct-n-zeaus-receipts-rg 
      #sourceBranches:
        #- master
      #subscription: aa-ct-nonprod-spoke
